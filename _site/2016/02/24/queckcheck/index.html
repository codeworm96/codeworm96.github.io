<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Notes on QuickCheck &middot; codeworm96
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"> -->

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Records of coding</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="https://github.com/codeworm96">GitHub</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a> <br />
      Theme: <a href="https://github.com/poole/lanyon" target="_blank">lanyon</a>
    </p>
  </div>
  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">codeworm96</a>
            <small>blog</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Notes on QuickCheck</h1>
  <span class="post-date">24 Feb 2016</span>
  <p>QuickCheck is a testing library for Haskell, which is very interesting and convinent.
Unlike normal testing library, in which we run our code against some given input
and check if the result is expected, QuickCheck allows us to define <code>properties</code>
for our functions, and check them using randomly generated inputs.</p>

<h1>Install</h1>
<div class="highlight"><pre><code class="language-text" data-lang="text">cabal install quickcheck
</code></pre></div>
<h1>Usage</h1>

<p>import it first:</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="kr">import</span> <span class="nn">Test.QuickCheck</span></code></pre></figure>

<p>define properties:</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="c1">-- simple property</span>
<span class="nf">prop_reverseConcat</span> <span class="n">xs</span> <span class="n">ys</span> <span class="ow">=</span> <span class="n">reverse</span> <span class="p">(</span><span class="n">xs</span> <span class="o">++</span> <span class="n">ys</span><span class="p">)</span> <span class="o">==</span> <span class="n">reverse</span> <span class="n">ys</span> <span class="o">++</span> <span class="n">reverse</span> <span class="n">xs</span>

<span class="c1">-- (==&gt;) implies - add condition for inputs</span>
<span class="nf">prop_headMin</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">not</span> <span class="p">(</span><span class="n">null</span> <span class="n">xs</span><span class="p">)</span> <span class="o">==&gt;</span> <span class="n">head</span> <span class="p">(</span><span class="n">sort</span> <span class="n">xs</span><span class="p">)</span> <span class="o">==</span> <span class="n">minimum</span> <span class="n">xs</span></code></pre></figure>

<p>testing properties:</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="nf">quickCheck</span> <span class="n">prop</span>

<span class="c1">-- more details</span>
<span class="nf">verboseCheck</span> <span class="n">prop</span>

<span class="c1">-- specifying a type</span>
<span class="nf">quickCheck</span> <span class="p">(</span><span class="n">prop</span> <span class="ow">::</span> <span class="kt">SomeType</span> <span class="ow">-&gt;</span> <span class="kt">Bool</span><span class="p">)</span></code></pre></figure>

<h1>Not Perfect</h1>

<p>We have to notice that passing QuickCheck doesn&#39;t mean there isn&#39;t
any bug in our code. In fact, we can prove that no one can devise
a program which can verify, for any program, whether it behaves
as desired.(let \phi(x) = character function for some property,
the verify problem is equivalent to 1 - \phi(x) = 0(zero function),
which, according to computability theory is not decidable.)</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/06/23/last-log/">
            Last Log
            <small>23 Jun 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/01/06/computability/">
            可计算理论的一些思考
            <small>06 Jan 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/12/23/linking-static-variable/">
            static 与链接
            <small>23 Dec 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="/2016/02/24/queckcheck" data-title="Notes on QuickCheck" data-url="http://codeworm96.github.io//2016/02/24/queckcheck/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"codeworm96"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
